{"mappings":"iiBACA,IAAAA,EAAAC,EAAA,S,6DAMeC,I,OAAAC,EAAgBC,MAAAC,KAAAC,U,UAAhBH,I,OAAAA,EAAfI,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,I,kEACEC,YAAW,W,OAAOC,EAAAC,KAAKC,gBAAgBC,QAAS,C,GAAO,K,4CAD1BX,MAAAC,KAAAC,U,UAMhBU,I,OAAAA,EAAfT,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,EAAwBO,G,kEACtBA,EAAMC,iBACNC,OAASF,EAAMG,cAAcC,YAAYC,MACrCL,EAAMG,cAAcC,YAAYC,OAClCV,EAAAC,KAAKC,gBAAgBC,QAAS,EAC9BQ,EAAAC,MAAMC,eAAeR,EAAMG,cAAcC,YAAYC,OACrDL,EAAMG,cAAcC,YAAYC,MAAQ,GACzBC,EAAAC,MAAME,oBAEdC,MAAK,SAAAL,GACV,IAAMM,EAAeN,EAAMO,QACvBD,EAAaE,OAAS,EACxBlB,EAAAC,KAAKkB,gBAAgBC,WAAY,EAAAC,EAAAC,SAAuBN,IAExDhB,EAAAC,KAAKC,gBAAgBC,QAAS,EAC9Bb,I,MAIJU,EAAAC,KAAKC,gBAAgBC,QAAS,EAC9Bb,K,4CApBmBE,MAAAC,KAAAC,U,CARvBM,EAAAC,KAAKC,gBAAgBC,QAAS,EAM9BH,EAAAC,KAAKsB,aAAaC,iBAAiB,U,SAEXnB,G,OAATD,EAAQZ,MAAAC,KAAAC,U","sources":["src/partials_js/search.js"],"sourcesContent":["\nimport { movie } from './api';\nimport createMarkupCardsFilms from './createMarkupCardsFilms';\nimport { refs } from './refs';\n\nrefs.searchBadResult.hidden = true;\n\nasync function hideErrorMessage() {\n  setTimeout(() => (refs.searchBadResult.hidden = true), 2000);\n}\n\nrefs.searchButton.addEventListener('submit', onSubmit);\n\nasync function onSubmit(event) {\n  event.preventDefault();\n  search = event.currentTarget.searchQuery.value;\n  if (event.currentTarget.searchQuery.value) {\n    refs.searchBadResult.hidden = true;\n    movie.setSearchValue(event.currentTarget.searchQuery.value);\n    event.currentTarget.searchQuery.value = '';\n    const result = movie.fetchSearchMovies();\n\n    result.then(value => {\n      const searchAnswer = value.results;\n      if (searchAnswer.length > 0) {\n        refs.markSearchFilms.innerHTML = createMarkupCardsFilms(searchAnswer);\n      } else {\n        refs.searchBadResult.hidden = false;\n        hideErrorMessage();\n      }\n    });\n  } else {\n    refs.searchBadResult.hidden = false;\n    hideErrorMessage();\n  }\n}\n"],"names":["$bpxeT","parcelRequire","$302c553ce3ce8ba2$var$hideErrorMessage","$302c553ce3ce8ba2$var$_hideErrorMessage","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","setTimeout","$2gsSa","refs","searchBadResult","hidden","$302c553ce3ce8ba2$var$_onSubmit","event","preventDefault","search","currentTarget","searchQuery","value","$fpMk3","movie","setSearchValue","fetchSearchMovies","then","searchAnswer","results","length","markSearchFilms","innerHTML","$j9P1y","default","searchButton","addEventListener"],"version":3,"file":"index.a7d4d613.js.map"}