{"mappings":"oeACA,IAAAA,EAAAC,EAAA,S,0BAMAC,eAAeC,IACbC,YAAW,IAAOC,EAAAC,KAAKC,gBAAgBC,QAAS,GAAO,I,CAHzDH,EAAAC,KAAKC,gBAAgBC,QAAS,EAM9BH,EAAAC,KAAKG,aAAaC,iBAAiB,UAEnCR,eAAwBS,GAGtB,GAFAA,EAAMC,iBACNC,OAASF,EAAMG,cAAcC,YAAYC,MACrCL,EAAMG,cAAcC,YAAYC,MAAO,CACzCX,EAAAC,KAAKC,gBAAgBC,QAAS,EAC9BR,EAAAiB,MAAMC,eAAeP,EAAMG,cAAcC,YAAYC,OACrDL,EAAMG,cAAcC,YAAYC,MAAQ,GACzBhB,EAAAiB,MAAME,oBAEdC,MAAKJ,IACV,MAAMK,EAAeL,EAAMM,QACvBD,EAAaE,OAAS,EACxBlB,EAAAC,KAAKkB,gBAAgBC,WAAY,EAAAC,EAAAC,SAAuBN,IAExDhB,EAAAC,KAAKC,gBAAgBC,QAAS,EAC9BL,I,SAIJE,EAAAC,KAAKC,gBAAgBC,QAAS,EAC9BL,G","sources":["src/partials_js/search.js"],"sourcesContent":["\nimport { movie } from './api';\nimport createMarkupCardsFilms from './createMarkupCardsFilms';\nimport { refs } from './refs';\n\nrefs.searchBadResult.hidden = true;\n\nasync function hideErrorMessage() {\n  setTimeout(() => (refs.searchBadResult.hidden = true), 2000);\n}\n\nrefs.searchButton.addEventListener('submit', onSubmit);\n\nasync function onSubmit(event) {\n  event.preventDefault();\n  search = event.currentTarget.searchQuery.value;\n  if (event.currentTarget.searchQuery.value) {\n    refs.searchBadResult.hidden = true;\n    movie.setSearchValue(event.currentTarget.searchQuery.value);\n    event.currentTarget.searchQuery.value = '';\n    const result = movie.fetchSearchMovies();\n\n    result.then(value => {\n      const searchAnswer = value.results;\n      if (searchAnswer.length > 0) {\n        refs.markSearchFilms.innerHTML = createMarkupCardsFilms(searchAnswer);\n      } else {\n        refs.searchBadResult.hidden = false;\n        hideErrorMessage();\n      }\n    });\n  } else {\n    refs.searchBadResult.hidden = false;\n    hideErrorMessage();\n  }\n}\n"],"names":["$ll9qB","parcelRequire","async","$368590897c3fddc0$var$hideErrorMessage","setTimeout","$kgjKk","refs","searchBadResult","hidden","searchButton","addEventListener","event","preventDefault","search","currentTarget","searchQuery","value","movie","setSearchValue","fetchSearchMovies","then","searchAnswer","results","length","markSearchFilms","innerHTML","$cBXj4","default"],"version":3,"file":"index.f2e46509.js.map"}