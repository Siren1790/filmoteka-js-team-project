{"mappings":"iiBACA,IAAAA,EAAAC,EAAA,S,uCAGMC,EAAkBC,SAASC,cAAc,eAC3CC,EAAS,GACPC,EAAcH,SAASC,cAAc,yBACrCG,EAAeJ,SAASC,cAAc,mBACtCI,EAAkBL,SAASC,cAAc,wB,SAQhCK,I,OAAAC,EAAgBC,MAAAC,KAAAC,U,UAAhBH,I,OAAAA,EAAfI,EAAAd,EAAA,CAAAc,EAAAC,GAAAC,MAAA,SAAAC,I,kEACEC,YAAW,W,OAAOV,EAAgBW,QAAS,C,GAAO,K,4CADrBR,MAAAC,KAAAC,U,UAKhBO,I,OAAAA,EAAfN,EAAAd,EAAA,CAAAc,EAAAC,GAAAC,MAAA,SAAAC,EAAwBI,G,IAEhBC,E,kEADND,EAAME,iBACAD,EAAQ,IAAI,EAAAE,EAAAC,OAAM,CACtBC,YAAarB,IAGXA,GACFG,EAAgBW,QAAS,EACVG,EAAMK,oBAEdC,MAAK,SAAAC,GACV,IAAMC,EAAeD,EAAME,QAE3BzB,EAAYuB,MAAQ,GAChBC,EAAaE,OAAS,EAGxB9B,EAAgB+B,WAAY,EAAAC,EAAAC,SAAuBL,IAEnDtB,EAAgBW,QAAS,EACzBV,I,MAIJD,EAAgBW,QAAS,EACzBV,K,4CAzBmBE,MAAAC,KAAAC,U,CAZvBL,EAAgBW,QAAS,EACzBb,EAAY8B,iBAAiB,SAC7B,WAEE/B,EAASC,EAAYuB,K,IAOvBtB,EAAa6B,iBAAiB,U,SACNf,G,OAATD,EAAQT,MAAAC,KAAAC,U","sources":["src/partials_js/search.js"],"sourcesContent":["\nimport { Movie } from './api';\nimport createMarkupCardsFilms from './createMarkupCardsFilms';\n\nconst markSearchFilms = document.querySelector('.list-films');\nlet search = '';\nconst searchValue = document.querySelector('.js-search-form-input');\nconst searchButton = document.querySelector('.js-search-form');\nconst searchBadResult = document.querySelector('.js-search-badResult');\nsearchBadResult.hidden = true;\nsearchValue.addEventListener('input', onInput);\nfunction onInput() {\n  // console.log('searchValue =', searchValue.value);\n  search = searchValue.value;\n}\n\nasync function hideErrorMessage() {\n  setTimeout(() => (searchBadResult.hidden = true), 2000);\n}\n\nsearchButton.addEventListener('submit', onSubmit);\nasync function onSubmit(event) {\n  event.preventDefault();\n  const movie = new Movie({\n    searchValue: search,\n  });\n\n  if (search) {\n    searchBadResult.hidden = true;\n    const result = movie.fetchSearchMovies();\n\n    result.then(value => {\n      const searchAnswer = value.results;\n      // console.log('value.length =', searchAnswer.length);\n      searchValue.value = '';\n      if (searchAnswer.length > 0) {\n        // console.log('value =', searchAnswer);\n        // markup();\n        markSearchFilms.innerHTML = createMarkupCardsFilms(searchAnswer);\n      } else {\n        searchBadResult.hidden = false;\n        hideErrorMessage();\n      }\n    });\n  } else {\n    searchBadResult.hidden = false;\n    hideErrorMessage();\n  }\n}\n"],"names":["$bpxeT","parcelRequire","$302c553ce3ce8ba2$var$markSearchFilms","document","querySelector","$302c553ce3ce8ba2$var$search","$302c553ce3ce8ba2$var$searchValue","$302c553ce3ce8ba2$var$searchButton","$302c553ce3ce8ba2$var$searchBadResult","$302c553ce3ce8ba2$var$hideErrorMessage","$302c553ce3ce8ba2$var$_hideErrorMessage","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","setTimeout","hidden","$302c553ce3ce8ba2$var$_onSubmit","event","movie","preventDefault","$fpMk3","Movie","searchValue","fetchSearchMovies","then","value","searchAnswer","results","length","innerHTML","$j9P1y","default","addEventListener"],"version":3,"file":"index.929ac70b.js.map"}